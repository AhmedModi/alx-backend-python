#!/bin/bash

# Deploy blue version
kubectl apply -f blue_deployment.yaml

# Deploy green version
kubectl apply -f green_deployment.yaml

# Apply the service (currently pointing to blue)
kubectl apply -f kubeservice.yaml

# Check logs for blue
echo "Logs for blue deployment:"
kubectl logs -l app=messaging-app,version=blue --tail=20

# Check logs for green
echo "Logs for green deployment:"
kubectl logs -l app=messaging-app,version=green --tail=20
